webpackJsonp([0,2],[,,function(t,e,a){"use strict";function s(){localStorage.setItem("myTracks",c()(u))}function n(){u=JSON.parse(localStorage.getItem("myTracks"))||[]}var r=a(3),c=a.n(r),i=a(1),o=a.n(i),l={},u=[];n(),e.a={getTracks:function(){return u.sort(function(t,e){return e.votes-t.votes})},addTrack:function(t){try{for(var e=0;e<u.length;e++)if(u[e].id===t.id)return Materialize.toast("That track is already on your playlist",2e3);t.votes=0,u.push(t),u.sort(function(t,e){return e.votes-t.votes}),s()}catch(t){console.log(t)}},removeTrack:function(t){o.a.delete(l,t.id);var e=u.indexOf(t);u.splice(e,1),s()},promoteTrack:function(t){var e=u.indexOf(t);u[e].votes+=1,s()},demoteTrack:function(t){var e=u.indexOf(t);u[e].votes-=1,s()}}},,function(t,e,a){a(13);var s=a(0)(a(5),a(20),null,null);t.exports=s.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(16),n=a.n(s);e.default={name:"app",components:{Home:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(17),n=a.n(s),r=a(18),c=a.n(r);e.default={name:"home",components:{Itunes:n.a,MyTunes:c.a},data:function(){return{}}},$(function(){$("audio").on("play",function(){$("audio").not(this).each(function(t,e){e.pause()})})})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),n=a.n(s),r=a(9),c=a(2);e.default={name:"itunes",data:function(){return{query:"",tracks:[],currentTrack:{},previewUrl:""}},methods:{getTracks:function(){var t=this;r.a.getMusicByArtist(this.query).then(function(e){e.json().then(function(e){console.log(e),t.tracks=e.results.map(function(t){return{title:t.trackName,albumArt:t.artworkUrl60,artist:t.artistName,collection:t.collectionName,price:t.collectionPrice,preview:t.previewUrl,id:t.trackId}})})}).catch(function(t){console.log(t)})},addTrack:function(t){c.a.addTrack(t),console.log(c.a.getTracks())},setTrack:function(t){this.currentTrack=t},moving:function(t){console.log(this.currentTrack),t.dataTransfer.setData("text/javascript",n()(this.currentTrack))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(2);e.default={name:"mytunes",data:function(){return{myTunes:s.a.getTracks()}},methods:{removeTrack:function(t){s.a.removeTrack(t)},promoteTrack:function(t){s.a.promoteTrack(t),this.myTunes=this.myTunes.sort(function(t,e){return e.votes-t.votes})},demoteTrack:function(t){s.a.demoteTrack(t),this.myTunes=this.myTunes.sort(function(t,e){return e.votes-t.votes})},addSong:function(t){var e=JSON.parse(t.dataTransfer.getData("text/javascript"));s.a.addTrack(e)}}}},function(t,e,a){"use strict";e.a={getMusicByArtist:function(t){var e="//bcw-getter.herokuapp.com/?url=",a="https://itunes.apple.com/search?term="+t+"&entity=song",s=e+encodeURIComponent(a);return fetch(s)}}},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){a(12);var s=a(0)(a(6),a(19),null,null);t.exports=s.exports},function(t,e,a){a(15);var s=a(0)(a(7),a(22),null,null);t.exports=s.exports},function(t,e,a){a(14);var s=a(0)(a(8),a(21),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s6"},[a("my-tunes",{staticClass:"my-tunes"})],1),t._v(" "),a("div",{staticClass:"col s6"},[a("itunes",{staticClass:"itunes"})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("home")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{droppable:"true",ondragover:"event.preventDefault()"},on:{"!drop":function(e){t.addSong(e)}}},[a("h3",[t._v("My Playlist")]),t._v(" "),t._l(t.myTunes,function(e){return a("div",[a("div",{staticClass:"card horizontal"},[a("div",{staticClass:"card-stacked"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s2"},[a("div",{staticClass:"valign"},[e.albumArt?a("img",{attrs:{src:e.albumArt}}):t._e(),t._v(" "),e.albumArt?t._e():a("img",{attrs:{src:"http://placehold.it/70x70"}})])]),t._v(" "),a("div",{staticClass:"col s7"},[a("h5",[t._v(t._s(e.title))]),t._v(" "),a("audio",{attrs:{controls:"",src:e.preview}})]),t._v(" "),a("div",{staticClass:"col s3"},[a("p",[a("strong",[t._v(t._s(e.artist))])]),t._v(" "),a("p",[t._v(t._s(e.collection))])])])]),t._v(" "),a("div",{staticClass:"card-action"},[a("button",{staticClass:"btn-floating",on:{click:function(a){t.removeTrack(e)}}},[a("i",{staticClass:"fa fa-trash-o"})]),t._v(" "),a("button",{staticClass:"btn-floating",on:{click:function(a){t.promoteTrack(e)}}},[a("i",{staticClass:"fa fa-arrow-up"})]),t._v(" "),a("span",[t._v(t._s(e.votes))]),t._v(" "),a("button",{staticClass:"btn-floating",on:{click:function(a){t.demoteTrack(e)}}},[a("i",{staticClass:"fa fa-arrow-down"})])])])])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("form",{on:{submit:function(e){e.preventDefault(),t.getTracks()}}},[a("div",{staticClass:"col s11"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",placeholder:"Artist or Song Name"},domProps:{value:t._s(t.query)},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),t._m(0)])])]),t._v(" "),t.tracks[1]?t._e():a("h3",[t._v("Search for an Artist or Song!")]),t._v(" "),t._l(t.tracks,function(e){return a("div",[a("div",{staticClass:"card horizontal",attrs:{draggable:"true"},on:{click:function(a){t.setTrack(e)},"!dragstart":function(e){t.moving(e)}}},[a("div",{staticClass:"card-stacked"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s2"},[a("div",{staticClass:"valign"},[e.albumArt?a("img",{attrs:{src:e.albumArt}}):t._e(),t._v(" "),e.albumArt?t._e():a("img",{attrs:{src:"http://placehold.it/70x70"}})])]),t._v(" "),a("div",{staticClass:"col s7"},[a("h5",[t._v(t._s(e.title))]),t._v(" "),a("audio",{attrs:{controls:"",src:e.preview}})]),t._v(" "),a("div",{staticClass:"col s3"},[a("p",[a("strong",[t._v(t._s(e.artist))])]),t._v(" "),a("p",[t._v(t._s(e.collection))])])])]),t._v(" "),a("div",{staticClass:"card-action"},[a("button",{staticClass:"btn-floating",on:{click:function(a){t.addTrack(e)}}},[a("i",{staticClass:"fa fa-plus"})])])])])])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col s1"},[a("button",{staticClass:"waves-effect waves-light btn",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-search"})])])}]}},,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),n=a.n(s),r=a(4),c=a.n(r);new n.a({el:"#app",template:"<App/>",components:{App:c.a}})}],[25]);
//# sourceMappingURL=app.0bbbb76f02e67870efee.js.map